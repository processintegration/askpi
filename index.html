<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AskPI - Your AI Tutor for Process Integration</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f8fafc;
    }
    .hero-gradient {
      background: linear-gradient(135deg, #7c3aed 0%, #ec4899 100%);
    }
    .card {
      transition: all 0.3s ease;
    }
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
    }
    .feature-icon {
      background: linear-gradient(135deg, #a78bfa 0%, #ec4899 100%);
    }
    .spinner {
      border: 4px solid #e5e7eb;
      border-top: 4px solid #7c3aed;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      animation: spin 1s linear infinite;
      margin: auto;
    }
    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }
  </style>
</head>
<body>
  <header class="hero-gradient text-white">
    <div class="container mx-auto px-4 py-16 md:py-24">
      <div class="max-w-4xl mx-auto text-center">
        <h1 class="text-4xl md:text-5xl font-bold mb-6">AskPI</h1>
        <p class="text-xl md:text-2xl mb-8">An Integrated Visual and AI-Supported Open Educational Resource for Process Integration</p>
        <p class="text-lg opacity-90 mb-8">Enhancing student engagement and understanding in chemical engineering through visual learning tools and interactive AI support</p>
        <div class="flex flex-wrap justify-center gap-4">
          <a href="#resources" class="bg-white text-purple-700 hover:bg-purple-100 font-medium px-6 py-3 rounded-lg transition-colors">Explore Resources</a>
          <a href="#chatbot" class="bg-purple-700 hover:bg-purple-800 text-white font-medium px-6 py-3 rounded-lg transition-colors">Ask the AI</a>
        </div>
      </div>
    </div>
  </header>

  <main class="container mx-auto px-4 py-12">
    <section class="max-w-4xl mx-auto mb-16">
      <h2 class="text-3xl font-bold text-purple-800 mb-6 text-center">AskPI Overview</h2>
      <div class="bg-white rounded-xl shadow-md">
        <div class="flex flex-wrap border-b border-gray-200 text-sm font-medium">
          <button onclick="switchTab(0)" class="tab-button px-4 py-2 text-purple-700 hover:bg-purple-100 focus:outline-none active">About AskPI</button>
          <button onclick="switchTab(1)" class="tab-button px-4 py-2 text-gray-600 hover:bg-purple-100 focus:outline-none">What is AskPI?</button>
          <button onclick="switchTab(2)" class="tab-button px-4 py-2 text-gray-600 hover:bg-purple-100 focus:outline-none">Our Core Components</button>
          <button onclick="switchTab(3)" class="tab-button px-4 py-2 text-gray-600 hover:bg-purple-100 focus:outline-none">Why AskPI is Different</button>
          <button onclick="switchTab(4)" class="tab-button px-4 py-2 text-gray-600 hover:bg-purple-100 focus:outline-none">Our Impact</button>
          <button onclick="switchTab(5)" class="tab-button px-4 py-2 text-gray-600 hover:bg-purple-100 focus:outline-none">Ready to Dive In?</button>
        </div>
        <div class="p-6 text-gray-700 space-y-4" id="tab-content">
          <p>Welcome to AskPI, your open-source companion for mastering Process Integration in chemical engineering!</p>
          <p>Process Integration (PI) is a vital part of chemical engineering, especially when it comes to sustainable energy and resource optimization.</p>
          <p>However, many students find its concepts challenging due to their abstract nature and the complex analytical tasks involved. AskPI heps by providing a more accessible, flexible, and learner-centric approach.</p>
        </div>
      </div>
    </section>

    <section id="resources" class="max-w-4xl mx-auto mb-16">
      <h2 class="text-3xl font-bold text-purple-800 mb-8 text-center">Learning Resources</h2>
      <div class="grid md:grid-cols-2 gap-8">
        <div class="bg-white rounded-xl shadow-md p-6 card">
          <div class="feature-icon w-16 h-16 rounded-full flex items-center justify-center mb-4 text-white text-2xl">
            üìò
          </div>
          <h3 class="text-xl font-semibold text-purple-800 mb-3">Visual Concept Cards</h3>
          <p class="text-gray-600 mb-4">Understand complex ideas quickly with intuitive diagrams, simplified equations, and essential notes.</p>
          <a href="conceptcard.html" target="_blank" class="inline-flex items-center text-purple-600 font-medium hover:text-purple-800">
            Access Concept Cards ‚Üí
          </a>
        </div>
        <div class="bg-white rounded-xl shadow-md p-6 card">
          <div class="feature-icon w-16 h-16 rounded-full flex items-center justify-center mb-4 text-white text-2xl">
            üìù
          </div>
          <h3 class="text-xl font-semibold text-purple-800 mb-3">Guided Worksheets</h3>
          <p class="text-gray-600 mb-4">Tackle challenging problems step-by-step with conceptual warm-ups and graphical activities.</p>
          <a href="worksheet.html" target="_blank" class="inline-flex items-center text-purple-600 font-medium hover:text-purple-800">
            Access Worksheets ‚Üí
          </a>
        </div>
      </div>
    </section>

    <section id="chatbot" class="max-w-6xl mx-auto mb-16">
      <h2 class="text-3xl font-bold text-purple-800 mb-6 text-center">AI-Powered Learning Assistant</h2>
      <div class="bg-white rounded-xl shadow-md p-8">
        <p class="text-gray-700 mb-6">The AskPI AI assistant functions as a virtual tutor...</p>

        <div class="bg-purple-50 border border-purple-200 rounded-lg p-6 mb-6">
          <h3 class="text-xl font-semibold text-purple-800 mb-4">üí¨ Ask the AI Chatbot</h3>
          <p class="text-gray-600 mb-4">Type your question below:</p>
          <form id="chat-form" class="mb-6">
            <div class="flex flex-col md:flex-row gap-3">
              <input 
                type="text" 
                id="question" 
                placeholder="Ask your question here..." 
                required 
                class="flex-grow px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"
              />
              <button 
                type="submit" 
                class="bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-300"
              >
                Ask
              </button>
            </div>
          </form>
          <div id="response-box" class="bg-white border border-gray-200 rounded-lg p-6 max-h-[500px] overflow-y-auto space-y-4 prose max-w-none"></div>
        </div>
      </div>
    </section>

    <section class="max-w-4xl mx-auto">
      <div class="bg-purple-50 border border-purple-200 rounded-xl p-4 text-center">

        <p style="text-align: center; color: rgb(0, 0, 0); font-size: 11px; font-family: Verdana, Arial, Helvetica, sans-serif;"><strong><span style="font-size: 12px;">UNLOCK THE FULL LEARNING EXPERIENCE</span></strong></p>
        <p style="text-align: center; color: rgb(0, 0, 0); font-size: 11px; font-family: Verdana, Arial, Helvetica, sans-serif;"><span style="font-size: 12px;">Our&nbsp;Massive Open Online Course (MOOC) for Process Integration&nbsp;offers comprehensive videos, detailed notes, practice questions,&nbsp;and engaging activities for every chapter.</span></p>
        <p style="text-align: center; color: rgb(0, 0, 0); font-size: 11px; font-family: Verdana, Arial, Helvetica, sans-serif;"><span style="font-size: 12px;">Master the course at your own pace!</span></p>
        <p style="text-align: center;"><a href="https://ufuture.uitm.edu.my/mooc/course_detail.php?course=CPE614"><span style="font-size: 12px;"><strong>Massive Open Online Course (MOOC)&nbsp;</strong></span></a></p>
        <p style="text-align: center;"><span style="font-size: 12px;"><strong><a href="https://ufuture.uitm.edu.my/mooc/course_detail.php?course=CPE614">https://ufuture.uitm.edu.my/mooc/course_detail.php?course=CP</a></strong></span><a href="https://ufuture.uitm.edu.my/mooc/course_detail.php?course=CPE614"><span style="font-size: 12px;"><strong>E614</strong></span></a></p>

        
      </div>
    </section>
  </main>

  <footer class="bg-purple-800 text-white py-8 mt-16">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto text-center">
        <p>Created with ‚ù§Ô∏è by AskPI Project | Open Educational Resource (OER)</p>
      </div>
    </div>
  </footer>

  <script>
    document.getElementById("chat-form").addEventListener("submit", async function(event) {
      event.preventDefault();
      const questionInput = document.getElementById("question");
      const question = questionInput.value.trim();
      const responseBox = document.getElementById("response-box");

      if (!question) return;

      const userBlock = document.createElement("div");
      userBlock.classList.add("p-4", "bg-purple-100", "rounded-lg");
      userBlock.innerHTML = `<strong>You:</strong> ${question}`;
      responseBox.appendChild(userBlock);

      const aiBlock = document.createElement("div");
      aiBlock.classList.add("p-4", "bg-gray-100", "rounded-lg");
      aiBlock.innerHTML = "<div class='spinner'></div>";
      responseBox.appendChild(aiBlock);

      responseBox.scrollTop = responseBox.scrollHeight;
      questionInput.value = "";

      try {
        const res = await fetch("https://askpi-backend.onrender.com/ask", {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify({ question })
        });
        const data = await res.json();
        const answer = data.answer || data.error || "No answer returned.";
        typeMarkdown(answer, aiBlock);
      } catch (err) {
        aiBlock.innerHTML = "‚ö†Ô∏è There was an error getting a response.";
      }
    });

    function typeMarkdown(markdownText, container, delay = 10) {
      let i = 0;
      let raw = '';
      container.innerHTML = '';
      const type = () => {
        if (i < markdownText.length) {
          raw += markdownText.charAt(i);
          container.innerHTML = marked.parse(raw);
          i++;
          setTimeout(type, delay);
        }
      };
      type();
    }

    const tabContents = [
      `<p><strong>About AskPI</strong></p><p>Welcome to AskPI, your open-source companion for mastering Process Integration in chemical engineering!</p><p>Process Integration (PI) is a vital part of chemical engineering, especially when it comes to sustainable energy and resource optimization.</p><p>However, many students find its concepts challenging due to their abstract nature and the complex analytical tasks involved. AskPI heps by providing a more accessible, flexible, and learner-centric approach.</p>`,
      `<p><strong>What is AskPI?</strong></p><p>AskPI is an Open Educational Resource (OER) designed to transform how undergraduate students learn and engage with Process Integration. Our primary goal is to enhance your conceptual understanding and empower your independent problem-solving skills through a unique blend of visual learning tools and interactive AI support.</p>`,
      `<p><strong>Our Core Components:</strong></p><ul class="list-disc ml-5"><li><strong>Visual Concept Cards:</strong> Break down complex ideas using intuitive diagrams, simplified equations, and key notes.</li><li><strong>Guided Worksheets:</strong> Step-by-step guides with warm-ups, plots, and reflections for deeper understanding.</li><li><strong>AI-Powered Q&A:</strong> Mobile-friendly tutor answering questions in real-time, trained on student materials.</li></ul>`,
      `<p><strong>Why AskPI is Different:</strong></p><p>AskPI integrates visual pedagogy with AI. It's built using accessible tools (PowerPoint, Word, HTML), easily adaptable, and LMS-friendly.</p>`,
      `<p><strong>Our Impact:</strong></p><p>AskPI boosts understanding, confidence, and assessment performance. Licensed under Creative Commons to support open education everywhere.</p>`,
      `<p><strong>Ready to dive in?</strong></p><p>Explore our resources and start your journey to mastering Process Integration today!</p>`
    ];

    function switchTab(index) {
      const content = document.getElementById("tab-content");
      content.innerHTML = tabContents[index];
      document.querySelectorAll(".tab-button").forEach((btn, i) => {
        btn.classList.toggle("text-purple-700", i === index);
        btn.classList.toggle("text-gray-600", i !== index);
      });
    }
  </script>
</body>
</html>
