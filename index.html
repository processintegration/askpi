
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AskPI - Your AI Tutor for Process Integration</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>AskPI</h1>
        <p>Your AI-Powered Learning Assistant for Process Integration</p>
    </header>
    <main>
        <section>
            <p>Welcome to AskPI ‚Äì a free and open educational tool designed to help chemical engineering students understand Process Integration using visual aids and AI support.</p>
            <div class="buttons">
                <a href="https://example.com/concept-cards" target="_blank" class="resource-button">üìò Visual Concept Cards</a>
                <a href="https://example.com/worksheets" target="_blank" class="resource-button">üìÑ Guided Worksheets</a>
            </div>
        </section>
        <section class="chatbot-section">
            <h2>üí¨ Ask the AI Chatbot</h2>
            <p>Type your question below (e.g., "Explain composite curve again"):</p>
            <form id="chat-form">
                <input type="text" id="question" placeholder="Ask your question here..." required />
                <button type="submit">Ask</button>
            </form>
            <div id="response-box"></div>
        </section>
    </main>
    <footer>
        <p>Created with ‚ù§Ô∏è by AskPI Project | Open Educational Resource (OER)</p>
    </footer>

    <script>
    document.getElementById("chat-form").addEventListener("submit", async function(event) {
        event.preventDefault();
        const question = document.getElementById("question").value;
        const responseBox = document.getElementById("response-box");
        responseBox.innerHTML = "Thinking...";

        try {
            const res = await fetch("https://askpi-backend.onrender.com/chat", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({ question })
            });
            const data = await res.json();
            responseBox.innerHTML = `<strong>Answer:</strong> ${data.answer}`;
        } catch (err) {
            responseBox.innerHTML = "There was an error getting a response. Please try again later.";
        }
    });
    </script>
</body>
</html>
